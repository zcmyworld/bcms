# MySQL 并发控制

### 问题提出：

当多人同时对一份数据进行修改，其结果将不可预知。并发控制就是讨论多人同时操作数据时，该如何保证数据完整。

### 解决方案
可以通过使用 shared lock 和 exclusive lock 这两种锁来组成的锁系统来解决问题。

 * shared lock (共享锁) / 【又名： read lock (读锁)

 * exclusive lock （排他锁）/ 【又名：write lock (写锁)

读锁互不干扰

写锁阻塞其他的读锁和写锁

### 方案劣势

锁操作需要开销（获得锁，检查锁，释放锁），为减少开销，应设计成尽量只锁需要修改的部分数据，而不是所有，这就是锁的粒度问题。如何在锁的开销与数据安全之间需求平衡，有以下两种重要锁策略。

 * table lock 表锁
 * row lock 行级锁

表锁开销小，对整表进行锁定

行锁开销大，最大程度支持并发处理